# -*- mode: Snakemake -*-

rule download_sra:
	output:
		r1=temp(str(DATA_DIR+"/{sample}_1.fastq")),
		r2=temp(str(DATA_DIR+"/{sample}_2.fastq"))
	params:
		outdir = str(DATA_DIR+"/"),
		samp = str('{sample}')
	shell:
		"""
		fastq-dump --split-files --skip-technical -O {params.outdir} {params.samp}
		"""

rule all_download:
	input:
		expand(DATA_DIR+"/{sample}_1.fastq",sample=config["samples"])
	output:
		temp(str(OUTPUT_DIR+"summary/all_download_summary.txt"))
	params:
		data = str(DATA_DIR)
	shell:
		"ls {params.data} > {output}"


